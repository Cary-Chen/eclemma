<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
  <meta name="LastChangedDate" content="$LastChangedDate$">
  <meta name="Revision" content="$Revision: $">
  <link rel="stylesheet" href="../book.css" charset="ISO-8859-1" type="text/css">
  <title>Source Code Annotation</title>
</head>

<body>

<h2>Source Code Annotation</h2>

<p>
  The line coverage of the active coverage session (see
  <a href="coverageview.html">coverage view</a>) is also directly displayed in
  the Java source editors. This works for Java source files contained in the
  project as well as source code attached to binary libraries.
</p>

<p>
  <img src="images/annotations.png" alt="Annotations">
</p>

<p>
  Source lines that correspond to compiled Java instructions get the following
  color code: Green for fully covered lines, yellow for partly covered
  lines and red for lines that have not been executed at all. These default
  colors can be modified in the <i>Preferences</i> dialog (see next section).
</p>

<p>
  The source annotations automatically disappear when
</p>

<ul>
  <li>starting editing,</li>
  <li>the source file has been saved after the coverage session has been loaded
      or</li>
  <li>the coverage session has been deleted.</li>
</ul>

<h3>Highlighting Preferences</h3>

<p>
  The Eclipse preferences section 
  <i>General &rarr; Appearance &rarr; Editors &rarr; Text Editors &rarr; Annotations</i>
  allows to modify the visual representation of coverage highlighting. The
  corresponding entries are:
</p>

<ul>
  <li>Full Coverage</li>
  <li>Partial Coverage</li>
  <li>No Coverage</li>
</ul>

<h3>Remarks about Line Coverage</h3>

<p>
  In some situations it is not obvious, why particular lines are partially
  covered only. Please see 
  <a href="http://emma.sourceforge.net/faq.html#q.fractional.examples">EMMA's 
  FAQ entry about partially covered lines</a> for details. EMMA's concept of
  <a href="http://emma.sourceforge.net/faq.html#q.blockcoverage">basic block
  coverage</a> explains how coverage is measured in case of Java exceptions.
</p>

</body>
</html>