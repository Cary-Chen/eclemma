<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
  <meta name="LastChangedDate" content="$LastChangedDate$">
  <meta name="Revision" content="$Revision$">
  <link rel="stylesheet" href="../book.css" charset="ISO-8859-1" type="text/css">
  <title>Launching in Coverage Mode</title>
</head>

<body>

<h2>Launching in Coverage Mode</h2>

<p>
  Eclipse allows running Java programs directly from the workbench. Programs
  can be launched in different so called <i>launch modes</i>. In a standard
  Eclipse installation you can launch your programs either in <i>Run</i>
  or in <i>Debug</i> mode. EclEmma adds a new launch mode <i>Coverage</i> which
  is available from the <i>Run</i> menu and the toolbar:
</p>

<img src="images/launchtoolbar.gif" alt="Launching Toolbar">

<p>
  <b>Note:</b> If the <i>Coverage</i> drop-down toolbar button is not visible
  in your current workbench perspective, open the <i>Customize Perspective...</i>
  dialog and enable the <i>Coverage</i> command group on the <i>Commands</i> tab.
</p>

<p>
  Existing launch configurations can be launched directly in <i>Coverage</i>
  mode using default settings. Optionally these settings can be modified in the
  coverage launch dialog:
</p>

<img src="images/launchdialog.png" alt="Launch Dialog">

<p>
  In the <i>Coverage</i> tab the Java classes that should be prepared for
  coverage analysis can be selected. EMMA modifies these classes in a
  process called <i>instrumentation</i>. Instrumentation is possible for source
  based classes as well as for binary libraries.
</p>

<h3>In-place Instrumentation</h3>

<p>
  EclEmma tries not to touch your project's content. Therefore class files are
  normally instrumented outside your project in a temporary folder. Optionally
  class files can be instrumented in-place by selecting the corresponding check
  box on the <i>Coverage</i> tab.
</p>

<table border="1" cellspacing="0" cellpadding="4">
  <tr>
    <td></td>
    <td><b>Outside Instrumentation</b></td>
    <td><b>In-place Instrumentation</b></td>
  </tr>
  <tr>
    <td><b>Instrumentation</b></td>
    <td>Instrumented classes will be saved in a temporary folder outside your project.</td>
    <td>The compiled classes will be instrumented directly in your project.</td>
  </tr>
  <tr>
    <td><b>Java Classpath</b></td>
    <td>The classpath will be modified to include the locations of the instrumented classes.</td>
    <td>The classpath will not be modified.</td>
  </tr>
  <tr>
    <td><b>Binary Libraries</b></td>
    <td>Binary libraries can also be analysed for coverage.</td>
    <td>Binary libraries can not be analysed, as this would permanently modify them.</td>
  </tr>
  <tr>
    <td><b>Supported Launch Types</b></td>
    <td>Local Java application, JUnit test</td>
    <td>Local Java application, JUnit test, JUnit plug-in test</td>
  </tr>
</table>

<p>
  Programs that do not accept a Java classpath, i.e. using their own class
  loading mechanisms, require in-place instrumentation.
</p>

<p>
  <b>Warning:</b> Instrumentation will modify your class files. Instrumented
  class files can not be used with launch modes other than <i>Coverage</i>.
  Therefore a clean build is required after a coverage launch with in-place
  instrumentation.
</p>

</body>
</html>